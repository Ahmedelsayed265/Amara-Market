import{useQuery}from"@tanstack/react-query";import axiosInstance from"../utils/axiosInstance";import{useSearchParams}from"react-router-dom";export default function useGetOrders(){const[searchParams]=useSearchParams(),status=searchParams.get("status")||"all",from=searchParams.get("from")||"",to=searchParams.get("to")||"",{isLoading:isLoading,data:data,error:error}=useQuery({queryKey:["orders",status,from,to],queryFn:async()=>{const payload={};"all"!==status&&(payload.status=status),""!==from&&(payload.from=from),""!==to&&(payload.to=to);try{const res=await axiosInstance.post("/market/get_market_orders",payload);if(200===res.status)return res.data.data||{}}catch(error){throw console.error("Error fetching orders:",error.message),error}},retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1});return{isLoading:isLoading,data:data,error:error}}